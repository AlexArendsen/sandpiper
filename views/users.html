{% extends "base.html" %}
{% block content %}
	<div class="row" ng-controller="UsersCtrl">
		<div class="col s12 m12 l8 offset-l2">

			<div class="card">
				<ul class="tabs">
					<li class="tab col s6"><a href="#list">Manage Users</a></li>
					<li class="tab col s6"><a href="#create">Create New User</a></li>
				</ul>
			</div>

			<div id="list">
				<div class="card">
					<div class="card-content">
						<span class="card-title grey-text">Manage Users</span>
						<table class="stiped">
							<thead>
								<tr>
									<th colspan="2">User</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="user in users">
									<td>{{user.username}}</td>
									<td style="text-align:right">
										<span ng-show="user.isAdmin" class="grey-text">Administrator</span>
									</td>
									<td>
										<a href="#!" ng-click="userDelete(user)"><i class="material-icons red-text">remove_circle</i></a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div id="create">
				<div class="card">
					<div class="card-content">
						<span class="card-title grey-text">Create New User</span>
						<form action="javascript:void(0)" ng-submit="userCreate(newUser)">
							<div class="row">
								<div class="col s12">
									<div class="input-field">
										<input type="text" ng-model="newUser.username" length="255" id="username-input" required>
										<label for="username-input">Username</label>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col s12">
									<div class="input-field">
										<input type="password" ng-model="newUser.password" id="password-input" required>
										<label for="password-input">Password</label>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col s12">
									<div class="input-field">
										<input type="password" ng-model="newUser.passwordConfirm" id="password-confirm-input" required>
										<label for="password-confirm-input">Password Confirm</label>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col s12">
									<div class="right">
										<button type="submit" class="btn waves-effect waves-light">
											Create User
										</button>
									</div>
									<p>
										<input type="checkbox" ng-model="newUser.isAdmin" id="isAdminCheckbox" class="filled-in">
										<label for="isAdminCheckbox">Is Administrator? (May manage user accounts)</label>
									</p>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>

		</div>
	</div>
{% endblock %}